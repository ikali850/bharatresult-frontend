<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title th:text="${post.shortTitle}">blog Page</title>
    <meta content name="description" />
    <meta content name="keywords" />
    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />
    <!--head-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="/stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet" />
    <style>
        @keyframes blink {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .blinking-text {
            text-align: center;
            font-weight: bold;
            font-size: 15px;
            color: green;
            animation: blink 1s infinite;
        }
    </style>
</head>

<body class="bg-body-tertiary">
    <!-- Include the header -->
    <div th:replace="~{fragments :: headerFragment}"></div>
    <!-- End Header -->
    <main id="main" class="main">
        <!-- blog header -->
        <div class="container-fluid my-2 rounded-2" style="background-color: coral;">
            <div class="p-5 text-center justify-content-center">
                <h3 class="text-white" th:text="${post.fullTitle}">Default Value</h3>
                <div class="text-center blinking-text" th:text="${post.updateMsg}">

                </div>
            </div>
        </div>
        <!-- toast message div -->
        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="toastMessage" class="toast align-items-center text-white bg-info border-0" role="alert">
                <div class="d-flex">
                    <div class="toast-body" id="toastText">
                        View count incremented!
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto"
                        data-bs-dismiss="toast"></button>
                </div>
            </div>
        </div>


        <div class="mx-1">
            <table class="table ">
                <thead class="table bg-warning">
                    <tr>
                        <th class="text-white" scope="col">Author</th>
                        <th class="text-white" scope="col">Updated On</th>
                        <th class="text-white" scope="col">Views</th>
                        <th scope="col" class="d-none d-md-table-cell text-white">Likes</th>
                        <th class="text-white" scope="col">Share</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-dark fw-bold" th:text="${post.user.name}">Arvind Kumar</td>
                        <td class="text-dark fw-bold" th:text="${#strings.substring(post.createdDate, 0, 10)}">
                            2025-02-06</td>
                        <td class="text-dark fw-bold" id="viewCount" th:text="${postMetrics.view}">150</td>
                        <td class="text-dark fw-bold d-none d-md-table-cell" id="likeCount"
                            th:text="${postMetrics.likes}">0</td>
                        <td class="text-dark fw-bold" id="shareCount" th:text="${postMetrics.share}">120</td>
                        <td class="d-none" id="postId" th:text="${postMetrics.postId}">120</td>

                    </tr>
                </tbody>
            </table>
        </div>
        <!-- blog header ends -->
        <div class="mx-md-5 mx-1">
            <div class="row g-2 g-xxl-5">
                <!-- th:utext="${post.content}" add this to below div for post content -->
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header text-white bg-success">
                            <strong>Top 5 Travel Destinations</strong>
                        </div>
                        <div class="card-body">
                            <p>Explore the world's most stunning travel spots. Whether you're looking for adventure or
                                relaxation, these destinations offer something for everyone:</p>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Destination</th>
                                        <th>Country</th>
                                        <th>Highlight</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Bali</td>
                                        <td>Indonesia</td>
                                        <td>Beaches & Temples</td>
                                    </tr>
                                    <tr>
                                        <td>Paris</td>
                                        <td>France</td>
                                        <td>Eiffel Tower</td>
                                    </tr>
                                    <tr>
                                        <td>Tokyo</td>
                                        <td>Japan</td>
                                        <td>Cultural Heritage</td>
                                    </tr>
                                    <tr>
                                        <td>New York</td>
                                        <td>USA</td>
                                        <td>City Life</td>
                                    </tr>
                                    <tr>
                                        <td>Cape Town</td>
                                        <td>South Africa</td>
                                        <td>Table Mountain</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header text-white bg-success">
                            <strong>Top 5 Travel Destinations</strong>
                        </div>
                        <div class="card-body">
                            <p>Explore the world's most stunning travel spots. Whether you're looking for adventure or
                                relaxation, these destinations offer something for everyone. From breathtaking
                                landscapes to vibrant cultures, the world is filled with incredible places waiting to be
                                discovered.</p>
                            <p><strong>Bali, Indonesia</strong>: Known for its beautiful beaches and rich culture, Bali
                                is a tropical paradise. Visitors can enjoy surfing, sunbathing, and exploring ancient
                                temples. Don't miss the rice terraces in Ubud and the lively markets filled with local
                                crafts.</p>
                            <p><strong>Paris, France</strong>: The city of love offers iconic landmarks like the Eiffel
                                Tower and the Louvre Museum. Stroll along the Seine River, indulge in French cuisine at
                                charming cafes, and soak in the artistic atmosphere of Montmartre.</p>
                            <p><strong>Tokyo, Japan</strong>: A bustling metropolis that seamlessly blends tradition and
                                modernity. Explore historic temples, enjoy delicious sushi, and experience the vibrant
                                nightlife in Shibuya. The cherry blossoms in spring are a must-see!</p>
                            <p><strong>New York City, USA</strong>: Known as "The Big Apple," New York offers a diverse
                                array of attractions. Visit Times Square, Central Park, and the Statue of Liberty. The
                                city's cultural scene is unmatched, with world-class museums and Broadway shows.</p>
                            <p><strong>Cape Town, South Africa</strong>: Famous for its stunning coastline and Table
                                Mountain, Cape Town is a gem in Africa. Hike up the mountain for breathtaking views,
                                visit the historic Robben Island, and enjoy local wines in the nearby vineyards.</p>
                            <p>Each of these destinations provides unique experiences that can enrich your life.
                                Traveling not only allows you to see new places but also helps you to understand
                                different cultures and perspectives. Plan your next adventure and make unforgettable
                                memories!</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header text-white bg-success">
                            <strong>Healthy Eating Tips for Everyone</strong>
                        </div>
                        <div class="card-body">
                            <p>Adopting a healthy diet can transform your life. It impacts not only your physical health
                                but also your mental well-being. Here are essential tips for incorporating healthy
                                eating habits into your daily routine.</p>
                            <p><strong>1. Incorporate a Variety of Fruits and Vegetables:</strong> Aim for at least five
                                servings a day. Different colors of fruits and vegetables provide various nutrients, so
                                include greens, reds, yellows, and purples in your meals.</p>
                            <p><strong>2. Stay Hydrated:</strong> Water is vital for your body. Drinking enough water
                                helps maintain energy levels and supports metabolic functions. Aim for eight 8-ounce
                                glasses daily, adjusting for activity level and climate.</p>
                            <p><strong>3. Choose Whole Grains:</strong> Whole grains are richer in nutrients than
                                refined grains. Opt for whole grain bread, brown rice, and oatmeal. These foods are
                                higher in fiber, which aids digestion and keeps you full longer.</p>
                            <p><strong>4. Limit Added Sugars and Saturated Fats:</strong> Excessive sugar and unhealthy
                                fats can lead to chronic health issues. Check labels and try to avoid processed foods
                                high in these ingredients. Instead, opt for natural sources of sweetness like fruits.
                            </p>
                            <p><strong>5. Practice Portion Control:</strong> Be mindful of portion sizes to avoid
                                overeating. Using smaller plates and bowls can help manage serving sizes. Listening to
                                your body's hunger cues is also essential.</p>
                            <p><strong>6. Plan Your Meals:</strong> Preparing meals ahead of time can save you from
                                unhealthy last-minute choices. Create a weekly meal plan, incorporating a variety of
                                healthy options to keep things interesting.</p>
                            <p><strong>7. Be Mindful While Eating:</strong> Eating without distractions, like phones or
                                TVs, allows you to savor your food and recognize when you're full. This mindfulness can
                                prevent overeating and enhance your dining experience.</p>
                            <p>By adopting these habits, you can improve your overall health and well-being. Remember,
                                it's not just about making drastic changes but rather incorporating small, sustainable
                                habits into your lifestyle.</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header text-white bg-success">
                            <strong>Latest Tech Trends to Watch</strong>
                        </div>
                        <div class="card-body">
                            <p>Stay ahead in the tech world! Understanding the latest trends can help you prepare for
                                the future, whether you’re a professional, a business owner, or a tech enthusiast. Here
                                are some key trends shaping the industry:</p>
                            <p><strong>1. Artificial Intelligence and Machine Learning:</strong> AI is revolutionizing
                                how we interact with technology. From virtual assistants to predictive analytics,
                                businesses are leveraging AI to improve efficiency and decision-making. Understanding
                                machine learning algorithms is becoming increasingly valuable.</p>
                            <p><strong>2. 5G Connectivity:</strong> The rollout of 5G technology promises faster
                                internet speeds and more reliable connections. This will enhance experiences in areas
                                like streaming, online gaming, and IoT devices, enabling smarter cities and connected
                                living.</p>
                            <p><strong>3. Internet of Things (IoT):</strong> IoT devices are becoming ubiquitous,
                                allowing everyday objects to connect to the internet and communicate with each other.
                                This trend will improve automation in homes and industries, leading to greater
                                efficiency and data collection.</p>
                            <p><strong>4. Blockchain Technology:</strong> Initially developed for cryptocurrencies,
                                blockchain is now being applied in various sectors, including supply chain management
                                and healthcare. Its ability to provide transparency and security in transactions makes
                                it a valuable tool.</p>
                            <p><strong>5. Cybersecurity Innovations:</strong> As technology advances, so do cyber
                                threats. Companies are investing in advanced cybersecurity measures to protect sensitive
                                data. Learning about cybersecurity best practices is essential for individuals and
                                organizations alike.</p>
                            <p><strong>6. Remote Work Technologies:</strong> The rise of remote work has prompted
                                innovation in collaboration tools. Applications like Zoom, Slack, and project management
                                software have become crucial for maintaining productivity and communication.</p>
                            <p><strong>7. Sustainable Tech:</strong> There is a growing emphasis on sustainability in
                                tech development. Companies are focusing on reducing their carbon footprints and
                                creating eco-friendly products. Understanding the intersection of technology and
                                sustainability is becoming increasingly important.</p>
                            <p>By staying informed about these trends, you can position yourself to adapt and thrive in
                                an ever-evolving technological landscape. Embrace the changes, and be ready to seize new
                                opportunities!</p>
                        </div>
                    </div>
                    <div class="card mt-1">
                        <div class="card-body">
                            <!-- Newsletter 1 - Bootstrap Brain Component -->

                            <div class="">
                                <div class="row justify-content-md-center">
                                    <div class="col-12 col-md-9 col-lg-8 col-xl-7 col-xxl-6">
                                        <b class="mb-4 text-center">Sign
                                            up
                                            for
                                            our
                                            newsletter
                                            and
                                            never
                                            miss
                                            a
                                            thing.</b>
                                    </div>
                                </div>
                                <div class="row justify-content-md-center">
                                    <div class="col-12 col-md-10 col-lg-9 col-xl-8 col-xxl-7">
                                        <form class="row gy-3 gy-lg-0 gx-lg-2 justify-content-center">
                                            <div class="col-12 col-lg-8">
                                                <label for="email-newsletter-component" class="visually-hidden">Email
                                                    Address</label>
                                                <input type="email" class="form-control bsb-form-control-3xl"
                                                    id="email-newsletter-component" value placeholder="Email Address"
                                                    aria-label="email-newsletter-component"
                                                    aria-describedby="email-newsletter-help" required>
                                            </div>
                                            <div class="col-12 col-lg-3 text-center text-lg-start">
                                                <button type="submit"
                                                    class="btn btn-primary bsb-btn-3xl">Subscribe</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="text-center">
                                <!-- Like Post Btn -->
                                <a data-mdb-ripple-init class="btn btn-primary" style="background-color: #55acee;"
                                    id="likeBtn" th:href="'/count/like/' + ${post.id}" role="button">
                                    <i class="fa-solid fa-thumbs-up"></i>
                                </a>
                                <!-- Share Current Page URL -->
                                <a data-mdb-ripple-init class="btn btn-primary shareBtn"
                                    style="background-color: #55acee;" href="#"
                                    th:href="'https://www.facebook.com/sharer/sharer.php?u=https://bharatresult.com/post/' + ${post.postUrl}"
                                    role="button">
                                    <i class="bi bi-share-fill"></i>
                                </a>

                                <!-- Twitter -->
                                <a data-mdb-ripple-init class="btn btn-primary shareBtn"
                                    style="background-color: #55acee;" href="#"
                                    th:href="'https://twitter.com/intent/tweet?url=https://bharatresult.com/post/' + ${post.postUrl}"
                                    role="button">
                                    <i class="fab fa-twitter"></i>
                                </a>

                                <!-- WhatsApp -->
                                <a data-mdb-ripple-init class="btn btn-primary shareBtn"
                                    style="background-color: #25D366;" href="#"
                                    th:href="'https://wa.me/?text=https://bharatresult.com/post/' + ${post.postUrl}"
                                    role="button">
                                    <i class="fab fa-whatsapp"></i>
                                </a>


                                <!-- Instagram -->
                                <a data-mdb-ripple-init class="btn btn-primary shareBtn"
                                    style="background-color: #ac2bac;" href="#"
                                    th:href="'https://www.instagram.com/?url=https://bharatresult.com/post/' + ${post.postUrl}"
                                    role="button">
                                    <i class="fab fa-instagram"></i>
                                </a>

                                <!-- LinkedIn -->
                                <a data-mdb-ripple-init class="btn btn-primary shareBtn"
                                    style="background-color: #0082ca;" href="#"
                                    th:href="'https://www.linkedin.com/sharing/share-offsite/?url=https://bharatresult.com/post/' + ${post.postUrl}"
                                    role="button">
                                    <i class="fab fa-linkedin-in"></i>
                                </a>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="sticky-top">
                        <div class="card h-50 mb-2 d-none d-md-block">
                            <div class="card-header bg-success">
                                <div class="text-white fw-500 text-center">
                                    <i class="fa-solid fa-hand-pointer"></i> <b>More Recent</b>
                                </div>
                            </div>
                            <div>
                                <div class="list-group list-group-flush small mb-0 border-bottom">
                                    <div th:each="item : ${recentPosts}">
                                        <a class="list-group-item list-group-item-action"
                                            th:href="@{ '/post/' + ${item.postUrl}}">
                                            <span th:text="${item.shortTitle}"></span>
                                            <div class="text-xs text-muted"
                                                th:text="${#strings.substring(item.updatedDate, 0, 10)}"></div>
                                        </a>

                                    </div>
                                </div>
                                <div th:if="${recentPosts.size() < 1}">
                                    <div class="text-center mt-5">
                                        <h1><i class="fa-solid fa-hourglass"></i></h1>
                                        <h1 class="fw-bold">No Data</h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card h-50 mb-2 d-block d-md-none">
                <div class="card-header bg-success">
                    <div class="text-white fw-500 text-center">
                        <i class="fa-solid fa-hand-pointer"></i> <b>More Recent</b>
                    </div>
                </div>
                <div>
                    <div class="list-group list-group-flush small mb-0 border-bottom">
                        <div th:each="item : ${recentPosts}">
                            <a class="list-group-item list-group-item-action" th:href="@{ '/post/' + ${item.postUrl}}">
                                <span th:text="${item.shortTitle}"></span>
                                <div class="text-xs text-muted"
                                    th:text="${#strings.substring(item.updatedDate, 0, 10)}"></div>
                            </a>

                        </div>
                    </div>
                    <div th:if="${recentPosts.size() < 1}">
                        <div class="text-center mt-5">
                            <h1><i class="fa-solid fa-hourglass"></i></h1>
                            <h1 class="fw-bold">No Data</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div th:replace="~{fragments::toolsFragment}">
            <!-- tools from fragment -->
        </div>
        <br>
    </main>
    <!-- End #main -->
    <!-- Footer -->
    <footer class="text-center" style="background: yellowgreen;">
        <div th:replace="~{fragments :: footerFragment}"></div>
    </footer>
    <!-- Footer -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Get postId from an input field or data attribute
            var postId = $("#postId").text();

            $.ajax({
                url: "/count/view/" + postId,
                type: "GET",
                success: function (response) {
                    document.getElementById("viewCount").innerText++;
                    console.log("View count incremented:", response);
                },
                error: function (xhr, status, error) {
                    console.error("Error:", error);
                }
            });

            // method to like the post
            $("#likeBtn").click(function (event) {
                event.preventDefault();  // Prevent default link behavior

                var url = $(this).attr("href");  // Get URL from href attribute

                $.ajax({
                    url: url,
                    type: "GET",
                    success: function (response) {
                        $("#toastText").text("Liked!");
                        document.getElementById("likeCount").innerText++;
                        var toast = new bootstrap.Toast(document.getElementById('toastMessage'));
                        toast.show();
                    },
                    error: function (xhr, status, error) {
                        console.error("Error:", error);
                    }
                });
            });

            // method to share the post count
            $(".shareBtn").click(function (event) {
                event.preventDefault();

                // Get postId from an input field or data attribute
                var postId = $("#postId").text();
                var shareUrl = $(this).attr("href");

                $.ajax({
                    url: "/count/share/" + postId,
                    type: "GET",
                    success: function (response) {
                        document.getElementById("shareCount").innerText++
                        window.open(shareUrl, '_blank');
                    },
                    error: function (xhr, status, error) {
                        console.error("Error:", error);
                        window.open(shareUrl, '_blank');
                    }
                });
            });
        });
    </script>
</body>

</html>